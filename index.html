<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Pycamanager by pymag09</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Pycamanager</h1>
        <p>UI for managing CA  certificate authority PKI GUI openssl EAP radius wifi</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/pymag09/pyCAmanager" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/pymag09/pyCAmanager/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/pymag09/pyCAmanager/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>
<a name="python-ca-manager" class="anchor" href="#python-ca-manager"><span class="octicon octicon-link"></span></a>Python CA Manager</h1>

<p>This simple, ready to use tool, helps you manage your own CA. It`s based on curses library and use python3.
"caman.py" leads you through init procedure if you run it for a first time. Then caman.py will serve as a CA manager.</p>

<h2>
<a name="try-it-without-installation-with-virtualbox-instance" class="anchor" href="#try-it-without-installation-with-virtualbox-instance"><span class="octicon octicon-link"></span></a>Try it without installation with VirtualBox instance!!!</h2>

<p><a href="https://www.dropbox.com/s/i7bih3clyl48cp6/pyCAmanager.tar.bz2?dl=0">Downaload</a></p>

<h2>
<a name="dependencies" class="anchor" href="#dependencies"><span class="octicon octicon-link"></span></a>DEPENDENCIES:</h2>

<ol>
<li>openssl</li>
<li>python3</li>
</ol><h2>
<a name="instalation" class="anchor" href="#instalation"><span class="octicon octicon-link"></span></a>INSTALATION:</h2>

<ul>
<li>apt-get install openssl</li>
<li>caman.py create </li>
<li>caman.py init </li>
<li>edit openssl.cnf.</li>
</ul><pre><code>[ CA_default ]
dir=/path/where_certs_will_be_stored
new_certs_dir= $dir/signed_certs
</code></pre>

<ul>
<li>edit subj.info </li>
<li>run caman.py</li>
</ul><h2>
<a name="about" class="anchor" href="#about"><span class="octicon octicon-link"></span></a>ABOUT</h2>

<p>I use "caman.py" for radius and EAP. "caman.py" perform only manager actions but there is hook functionality. Here are three of them:
1) "new.hook" is called after cert singing. It accepts three arguments CN(commcon name), email and days
2) "revoke.hook" is called after cert revoking. It accepts three arguments cert file name, CN and email
3) "crl.hook" is called after generating CRL. No arguments are avaliable for this hook
You can use "crl.hook", for example, to transfer CRL to radius server.</p>

<pre><code>#!/bin/bash  
SCP=`which scp`  
SSH=`which ssh`  
! /bin/cat $PKI_ROOT/cacert.pem $PKI_ROOT/crl.pem &gt; $PKI_ROOT/cacrlcert.pem &amp;&amp; exit 1  
if [[ -e $PKI_ROOT/cacrlcert.pem ]]; then  
       $SCP $PKI_ROOT/cacrlcert.pem radius_admin@172.16.0.1:/home/putcert #transfering crl to radius  
       $SSH radadm@freeradius /home/radius_admin/radrestart.sh #restart radius  
fi
</code></pre>

<p>Pay attention to $PKI_ROOT environment variable. It must be set to folder where CA files is located, where you are going to store
all neccessary files in particular self-signed cert, index.txt etc.</p>

<p>"subj.info" file.</p>

<p>All actions with certs require entering passwords and other information.
"subj.info" contains information neccessary for creating cert request. "caman.py init" will create template: /OU=smth/O=Example Corp/C=SM/ST=Anything/L=My_place</p>

<pre><code>CN: CommonName (mandatory)
OU: OrganizationalUnit (can be empty. you can delete it from "subj.info" if you want)
O: Organization (mandatory)
L: Locality (mandatory)
S: StateOrProvinceName (mandatory)
C: CountryName (mandatory)
</code></pre>

<p>Keep in mind if you have problem with caman.py
1. PKI_ROOT must be equal to [ CA_default ] dir= in openssl.conf. Try to keep them equal when you edit any of this pathes
1. A first line of hook file must be the path to the relevant shell (for example #!/bin/bash)
1. After initialization put openssl.conf file in PKI_ROOT folder</p>

<p>If you have found any bugs please report it <a href="https://github.com/pymag09/lxc-ui/issues">Report</a></p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/pymag09">pymag09</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>